!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,(function(e){return t[e]}).bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="oiuA")}({"61Ir":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("K6c1");e.Fpi=class{constructor(t,e,n){this.objective=t,this.restrictions=e,this.vars=n}toMatrix(){const t=this.vars.map(t=>this.objective.getCoefficient(t).multiply(r.NEG));return{a:this.restrictions.map(t=>this.vars.map(e=>t.getCoefficient(e))),b:this.restrictions.map(t=>t.getIndependent()),c:t,vars:this.vars}}toString(){let t=`max(${this.objective})\n`;t+="\tst:\n";for(const e of this.restrictions)t+=`\t${e};\n`;return t+="\n\t"+this.vars.join(",")+" >= 0\n",t}}},"82Dv":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("iOVO"),i=n("K6c1"),o=n("MUAA"),s=n("Pmfo");e.CanonicalSmaller=class extends r.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return 1===this.left.length&&this.left[0].factor.isNegative()&&this.right.isZero()}turnIntoEquality(t){let e=1;for(;t.has("f_"+e);)e++;t.add("f_"+e);const n=new o.Variable(i.ONE,"f_"+e);return new s.CanonicalEquality([n,...this.left],this.right)}}},CNy6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("LhP/"),i=n("K6c1"),o=n("V9eS"),s=n("Pmfo"),a=n("MUAA");e.Equality=class extends r.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof i.Fraction?t=new o.CanonicalAddition(t,[]):t instanceof a.Variable&&(t=new o.CanonicalAddition(i.ZERO,[t]));let e=this.right.canonify();return e instanceof i.Fraction?e=new o.CanonicalAddition(e,[]):e instanceof a.Variable&&(e=new o.CanonicalAddition(i.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=i.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(i.NEG))),e.terms=[],new s.CanonicalEquality(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}},DNg2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("LhP/"),i=n("K6c1"),o=n("V9eS"),s=n("b5Bw"),a=n("MUAA");e.Greater=class extends r.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof i.Fraction?t=new o.CanonicalAddition(t,[]):t instanceof a.Variable&&(t=new o.CanonicalAddition(i.ZERO,[t]));let e=this.right.canonify();return e instanceof i.Fraction?e=new o.CanonicalAddition(e,[]):e instanceof a.Variable&&(e=new o.CanonicalAddition(i.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=i.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(i.NEG))),e.terms=[],new s.CanonicalGreater(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}},K6c1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("zCoP");"undefined"==typeof BigInt&&(BigInt=Number);const i=BigInt(0),o=BigInt(1),s=BigInt(-1);class a extends r.Expression{constructor(t,e){if(super(),t===i)this.numerator=i,this.denominator=o;else{const n=function t(e,n){return n===i?e:t(n,e%n)}(t,e);this.numerator=t/n,this.denominator=e/n,this.denominator<i&&(this.numerator*=s,this.denominator*=s)}}isZero(){return this.numerator===BigInt(0)}add(t){return new a(this.numerator*t.denominator+this.denominator*t.numerator,this.denominator*t.denominator)}sub(t){return new a(this.numerator*t.denominator-this.denominator*t.numerator,this.denominator*t.denominator)}isPositive(){return this.numerator>0&&this.denominator>0||this.numerator<0&&this.denominator<0}isNegative(){return this.numerator>0&&this.denominator<0||this.numerator<0&&this.denominator>0}invert(){return this.isZero()?e.ZERO:new a(this.denominator,this.numerator)}multiply(t){return new a(this.numerator*t.numerator,this.denominator*t.denominator)}getVars(t=new Set){return t}canonify(){return this}toString(t=!0){let e;return e=this.denominator===BigInt(1)?this.numerator.toString():this.numerator===BigInt(0)?"0":this.numerator+"/"+this.denominator,t||"-"!==e[0]?e:e.substring(1)}}e.Fraction=a,e.ONE=new a(BigInt(1),BigInt(1)),e.NEG=new a(BigInt(-1),BigInt(1)),e.ZERO=new a(BigInt(0),BigInt(1))},"LhP/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Restriction=class{}},MUAA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("zCoP");class i extends r.Expression{constructor(t,e){super(),this.factor=t,this.label=e}add(t){if(t.label===this.label)return new i(this.factor.add(t.factor),t.label);throw new Error("Can not perform addition of: "+this+" and "+t)}multiply(t){return new i(this.factor.multiply(t),this.label)}canonify(){return this}getVars(t=new Set){return t.add(this.label),t}invert(){throw new Error("You cannot put a variable in the denominator")}toString(t=!0){let e=this.factor.toString(t);return-1!==e.indexOf("/")&&(e="("+e+")"),e+this.label}}e.Variable=i},NoKw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("zCoP"),i=n("YBbj");e.Multiplication=class extends r.Expression{constructor(t){super(),this.terms=t}canonify(){const t=this.terms[0].canonify();let e;e=t instanceof i.Addition?t:new i.Addition([t]);for(let n=1;n<this.terms.length;n++){const t=this.terms[n].canonify();e=e.multiply(t)}return e.canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},NtZL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("NoKw"),i=n("K6c1"),o=n("V9eS"),s=n("MUAA"),a=n("61Ir"),c=n("YBbj"),u=n("CNy6");e.ProgLin=class{constructor(t,e,n){this.type=t,this.objective=e,this.restrictions=n}toFPI(){const t=new Set,e=this.objective.canonify();let n;n=e instanceof i.Fraction?new o.CanonicalAddition(e,[]):e instanceof s.Variable?new o.CanonicalAddition(i.ZERO,[e]):e,n.getVars(t),"min"===this.type&&(n=new r.Multiplication([i.NEG,n]).canonify());const l=new Set,f=[];for(const r of this.restrictions){r.getVars(t);const e=r.canonify();e.isNonNegativity()?r.getVars().forEach(t=>l.add(t)):f.push(e)}let h=f.map(t=>t.turnIntoEquality(l));const d=[];for(const r of t)if(!l.has(r)){l.add(r+"p"),l.add(r+"n");const t=[new s.Variable(i.ONE,r+"p"),new s.Variable(i.NEG,r+"n")];d.push(new u.Equality(new s.Variable(i.ONE,r),new c.Addition(t))),n=n.replaceVar(r,t),h=h.map(e=>e.replaceVar(r,t))}return new a.Fpi(n,h,[...l])}}},Pmfo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("iOVO"),i=n("K6c1");class o extends r.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return!1}turnIntoEquality(t){return this}getCoefficient(t){for(const e of this.left)if(e.label===t)return e.factor;return i.ZERO}getIndependent(){return this.right}toString(){let t="";for(const e of this.left)t&&(e.factor.isPositive()||e.factor.isZero()?t+=" + ":t+=" - "),t+=e.toString(!1);return`${t} == ${this.right}`}replaceVar(t,e){const n=new Array;for(const r of this.left)r.label===t?n.push(...e.map(t=>t.multiply(r.factor))):n.push(r);return new o(n,this.right)}}e.CanonicalEquality=o},V9eS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("K6c1"),i=n("zCoP");class o extends i.Expression{constructor(t,e){super(),this.independent=t,this.terms=e}canonify(){return this}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}getCoefficient(t){for(const e of this.terms)if(e.label===t)return e.factor;return r.ZERO}multiply(t){return new o(this.independent.multiply(t),this.terms.map(e=>e.multiply(t)))}toString(){let t="";this.independent.isZero()||(t+=this.independent);for(const e of this.terms)e.factor.isZero()||(e.factor.isPositive()?t&&(t+=" + "):t+=t?" - ":"-"),t+=e.toString(!1);return t}replaceVar(t,e){const n=new Array;for(const r of this.terms)r.label===t?n.push(...e.map(t=>t.multiply(r.factor))):n.push(r);return new o(this.independent,n)}}e.CanonicalAddition=o},YBbj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("zCoP"),i=n("K6c1"),o=n("MUAA"),s=n("jLWv"),a=n("V9eS");class c extends r.Expression{constructor(t){super(),this.terms=t}canonify(){const t=this.terms.slice(),e={};let n=i.ZERO;for(let r=t.pop();r;r=t.pop()){const c=r.canonify();c instanceof i.Fraction?n=n.add(c):c instanceof o.Variable?e[c.label]=e[c.label]?e[c.label].add(c):c:c instanceof a.CanonicalAddition?(t.push(c.independent),t.push(...c.terms)):s.unexhaustive(c)}return new a.CanonicalAddition(n,Object.values(e))}multiply(t){if(t instanceof i.Fraction)return new c(this.terms.map(e=>e.canonify().multiply(t)));if(t instanceof o.Variable)return new c(this.terms.map(e=>{const n=e.canonify();if(n instanceof i.Fraction)return t.multiply(n);if(n instanceof o.Variable)throw Error("In linear progarmming you can't have two variables multiplying each other");if(n instanceof a.CanonicalAddition){if(0===n.terms.length)return t.multiply(n.independent);throw Error("In linear progarmming you can't have two variables multiplying each other")}return s.unexhaustive(n)}));if(t instanceof c){const e=this.terms.reduce((e,n)=>{const r=t.multiply(n.canonify());return e.push(...r.terms),e},new Array);return new c(e)}return t instanceof a.CanonicalAddition?this.multiply(new c([t.independent,...t.terms])):s.unexhaustive(t)}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}e.Addition=c},b5Bw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("iOVO"),i=n("K6c1"),o=n("MUAA"),s=n("Pmfo");e.CanonicalGreater=class extends r.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return 1===this.left.length&&this.left[0].factor.isPositive()&&this.right.isZero()}turnIntoEquality(t){let e=1;for(;t.has("f_"+e);)e++;t.add("f_"+e);const n=new o.Variable(i.NEG,"f_"+e);return new s.CanonicalEquality([n,...this.left],this.right)}}},"fPn+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("zCoP");e.Factor=class extends r.Expression{constructor(t){super(),this.expr=t}canonify(){return this.expr.canonify()}getVars(t){return this.expr.getVars(t)}invert(){return this.expr.invert()}}},iOVO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanonicalRestriction=class{}},jLWv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unexhaustive=function(t){throw new Error("The code have reached a place where it shouldn't. It's a bug!")}},mguw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("YBbj");e.Addition=r.Addition;const i=n("V9eS");e.CanonicalAddition=i.CanonicalAddition;const o=n("Pmfo");e.CanonicalEquality=o.CanonicalEquality;const s=n("b5Bw");e.CanonicalGreater=s.CanonicalGreater;const a=n("iOVO");e.CanonicalRestriction=a.CanonicalRestriction;const c=n("82Dv");e.CanonicalSmaller=c.CanonicalSmaller;const u=n("wMuk");e.Division=u.Division;const l=n("CNy6");e.Equality=l.Equality;const f=n("zCoP");e.Expression=f.Expression;const h=n("fPn+");e.Factor=h.Factor;const d=n("61Ir");e.Fpi=d.Fpi;const p=n("K6c1");e.Fraction=p.Fraction,e.NEG=p.NEG,e.ONE=p.ONE,e.ZERO=p.ZERO;const m=n("DNg2");e.Greater=m.Greater;const g=n("NoKw");e.Multiplication=g.Multiplication;const y=n("NtZL");e.ProgLin=y.ProgLin;const w=n("LhP/");e.Restriction=w.Restriction;const b=n("zwtD");e.Smaller=b.Smaller;const v=n("t0x4");e.Subtraction=v.Subtraction;const A=n("MUAA");e.Variable=A.Variable;const E=function(){function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(t,Error),t.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=n[(i=t[e]).type](i);if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(n,r){r=void 0!==r?r:{};var i,o,s,a,c,u,l,f,h={},d={ProgLin:tt},p=tt,m=W("max",!1),g=W("min",!1),y=W("(",!1),w=W(")",!1),b=W("st:",!1),v=W("sujeito a:",!1),A=W(";",!1),E=W(">=",!1),C=W("<=",!1),x=W("==",!1),O=W("=",!1),V=W("+",!1),P=W("-",!1),S=W("*",!1),_=W("/",!1),M=J("integer"),j=/^[+\-]/,N=H(["+","-"],!1,!1),I=/^[0-9]/,R=H([["0","9"]],!1,!1),Z=/^[a-zA-Z]/,F=H([["a","z"],["A","Z"]],!1,!1),B=/^[a-zA-Z0-9]/,G=H([["a","z"],["A","Z"],["0","9"]],!1,!1),K=J("whitespace"),z=/^[ \t\n\r]/,q=H([" ","\t","\n","\r"],!1,!1),L=0,D=0,U=[{line:1,column:1}],T=0,Y=[],k=0;if("startRule"in r){if(!(r.startRule in d))throw new Error("Can't start parsing from rule \""+r.startRule+'".');p=d[r.startRule]}function $(){return n.substring(D,L)}function W(t,e){return{type:"literal",text:t,ignoreCase:e}}function H(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function J(t){return{type:"other",description:t}}function Q(t){var e,r=U[t];if(r)return r;for(e=t-1;!U[e];)e--;for(r={line:(r=U[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return U[t]=r,r}function X(t){L<T||(L>T&&(T=L,Y=[]),Y.push(t))}function tt(){var t,r,i,o,s,a;return t=L,ut()!==h?("max"===n.substr(L,3)?(r="max",L+=3):(r=h,0===k&&X(m)),r===h&&("min"===n.substr(L,3)?(r="min",L+=3):(r=h,0===k&&X(g))),r!==h&&ut()!==h?(40===n.charCodeAt(L)?(i="(",L++):(i=h,0===k&&X(y)),i!==h&&ut()!==h&&(o=nt())!==h&&ut()!==h?(41===n.charCodeAt(L)?(s=")",L++):(s=h,0===k&&X(w)),s!==h&&ut()!==h&&(a=function(){var t,e,r,i,o,s,a;if(t=L,"st:"===n.substr(L,3)?(e="st:",L+=3):(e=h,0===k&&X(b)),e===h&&("sujeito a:"===n.substr(L,10)?(e="sujeito a:",L+=10):(e=h,0===k&&X(v))),e!==h)if(ut()!==h){if(r=[],i=L,(o=et())!==h?(59===n.charCodeAt(L)?(s=";",L++):(s=h,0===k&&X(A)),s===h&&(s=null),s!==h&&(a=ut())!==h?i=o=[o,s,a]:(L=i,i=h)):(L=i,i=h),i!==h)for(;i!==h;)r.push(i),i=L,(o=et())!==h?(59===n.charCodeAt(L)?(s=";",L++):(s=h,0===k&&X(A)),s===h&&(s=null),s!==h&&(a=ut())!==h?i=o=[o,s,a]:(L=i,i=h)):(L=i,i=h);else r=h;r!==h?(D=t,t=e=r.map(t=>t[0])):(L=t,t=h)}else L=t,t=h;else L=t,t=h;return t}())!==h?(D=t,t=new e.ProgLin(r,o,a)):(L=t,t=h)):(L=t,t=h)):(L=t,t=h)):(L=t,t=h),t}function et(){var t,r,i,o;return t=L,(r=nt())!==h&&ut()!==h?(">="===n.substr(L,2)?(i=">=",L+=2):(i=h,0===k&&X(E)),i===h&&("<="===n.substr(L,2)?(i="<=",L+=2):(i=h,0===k&&X(C)),i===h&&("=="===n.substr(L,2)?(i="==",L+=2):(i=h,0===k&&X(x)),i===h&&(61===n.charCodeAt(L)?(i="=",L++):(i=h,0===k&&X(O))))),i!==h&&ut()!==h&&(o=nt())!==h?(D=t,t=r=function(t,n,r){switch(n){case">=":return new e.Greater(t,r);case"<=":return new e.Smaller(t,r);case"=":case"==":return new e.Equality(t,r)}}(r,i,o)):(L=t,t=h)):(L=t,t=h),t}function nt(){var t,r,i,o,s,a,c,u;if(t=L,(r=rt())!==h){for(i=[],o=L,(s=ut())!==h?(43===n.charCodeAt(L)?(a="+",L++):(a=h,0===k&&X(V)),a!==h&&(c=ut())!==h&&(u=rt())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);o!==h;)i.push(o),o=L,(s=ut())!==h?(43===n.charCodeAt(L)?(a="+",L++):(a=h,0===k&&X(V)),a!==h&&(c=ut())!==h&&(u=rt())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);i!==h?(D=t,t=r=function(t,n){if(n.length){const r=[t,...n.map(t=>t[3])];return new e.Addition(r)}return t}(r,i)):(L=t,t=h)}else L=t,t=h;return t}function rt(){var t,r,i,o,s,a,c,u;if(t=L,(r=it())!==h){for(i=[],o=L,(s=ut())!==h?(45===n.charCodeAt(L)?(a="-",L++):(a=h,0===k&&X(P)),a!==h&&(c=ut())!==h&&(u=it())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);o!==h;)i.push(o),o=L,(s=ut())!==h?(45===n.charCodeAt(L)?(a="-",L++):(a=h,0===k&&X(P)),a!==h&&(c=ut())!==h&&(u=it())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);i!==h?(D=t,t=r=function(t,n){if(n.length){const r=[t,...n.map(t=>t[3])];return new e.Subtraction(r)}return t}(r,i)):(L=t,t=h)}else L=t,t=h;return t}function it(){var t,r,i,o,s,a,c,u;if(t=L,(r=ot())!==h){for(i=[],o=L,(s=ut())!==h?(42===n.charCodeAt(L)?(a="*",L++):(a=h,0===k&&X(S)),a!==h&&(c=ut())!==h&&(u=ot())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);o!==h;)i.push(o),o=L,(s=ut())!==h?(42===n.charCodeAt(L)?(a="*",L++):(a=h,0===k&&X(S)),a!==h&&(c=ut())!==h&&(u=ot())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);i!==h?(D=t,t=r=function(t,n){if(n.length){const r=[t,...n.map(t=>t[3])];return new e.Multiplication(r)}return t}(r,i)):(L=t,t=h)}else L=t,t=h;return t}function ot(){var t,r,i,o,s,a,c,u;if(t=L,(r=st())!==h){for(i=[],o=L,(s=ut())!==h?(47===n.charCodeAt(L)?(a="/",L++):(a=h,0===k&&X(_)),a!==h&&(c=ut())!==h&&(u=st())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);o!==h;)i.push(o),o=L,(s=ut())!==h?(47===n.charCodeAt(L)?(a="/",L++):(a=h,0===k&&X(_)),a!==h&&(c=ut())!==h&&(u=st())!==h?o=s=[s,a,c,u]:(L=o,o=h)):(L=o,o=h);i!==h?(D=t,t=r=function(t,n){if(n.length){const r=[t,...n.map(t=>t[3])];return new e.Division(r)}return t}(r,i)):(L=t,t=h)}else L=t,t=h;return t}function st(){var t,r,i,o,s;return t=L,40===n.charCodeAt(L)?(r="(",L++):(r=h,0===k&&X(y)),r!==h&&(i=ut())!==h&&(o=nt())!==h&&ut()!==h?(41===n.charCodeAt(L)?(s=")",L++):(s=h,0===k&&X(w)),s!==h?(D=t,t=r=new e.Factor(o)):(L=t,t=h)):(L=t,t=h),t===h&&(t=L,(r=at())===h&&(r=null),r!==h&&(i=ct())!==h?(D=t,t=r=new e.Variable(r||e.ONE,i)):(L=t,t=h),t===h&&(t=L,45===n.charCodeAt(L)?(r="-",L++):(r=h,0===k&&X(P)),r!==h&&(i=ct())!==h?(D=t,t=r=new e.Variable(e.NEG,i)):(L=t,t=h),t===h&&(t=at()))),t}function at(){var t,r,i,o;if(k++,t=L,ut()!==h)if(j.test(n.charAt(L))?(r=n.charAt(L),L++):(r=h,0===k&&X(N)),r===h&&(r=null),r!==h){if(i=[],I.test(n.charAt(L))?(o=n.charAt(L),L++):(o=h,0===k&&X(R)),o!==h)for(;o!==h;)i.push(o),I.test(n.charAt(L))?(o=n.charAt(L),L++):(o=h,0===k&&X(R));else i=h;i!==h?(D=t,t=new e.Fraction(BigInt($()),BigInt(1))):(L=t,t=h)}else L=t,t=h;else L=t,t=h;return k--,t===h&&0===k&&X(M),t}function ct(){var t,e,r,i;if(t=L,Z.test(n.charAt(L))?(e=n.charAt(L),L++):(e=h,0===k&&X(F)),e!==h){for(r=[],B.test(n.charAt(L))?(i=n.charAt(L),L++):(i=h,0===k&&X(G));i!==h;)r.push(i),B.test(n.charAt(L))?(i=n.charAt(L),L++):(i=h,0===k&&X(G));r!==h?(D=t,t=e=$()):(L=t,t=h)}else L=t,t=h;return t}function ut(){var t,e;for(k++,t=[],z.test(n.charAt(L))?(e=n.charAt(L),L++):(e=h,0===k&&X(q));e!==h;)t.push(e),z.test(n.charAt(L))?(e=n.charAt(L),L++):(e=h,0===k&&X(q));return k--,t===h&&(e=h,0===k&&X(K)),t}if(void 0===typeof BigInt&&(BigInt=function(t){return parseInt(t,10)}),(i=p())!==h&&L===n.length)return i;throw i!==h&&L<n.length&&X({type:"end"}),o=Y,s=T<n.length?n.charAt(T):null,u=T<n.length?T+1:T,l=Q(c=T),f=Q(u),a={start:{offset:c,line:l.line,column:l.column},end:{offset:u,line:f.line,column:f.column}},new t(t.buildMessage(o,s),o,s,a)}}}();e.parse=E.parse,e.SyntaxError=E.SyntaxError},oiuA:function(t,e,n){"use strict";n.r(e);var r=n("mguw");const i=t=>({numerator:""+t.numerator,denominator:""+t.denominator});addEventListener("message",({data:t})=>{try{const e=Object(r.parse)(t||"").toFPI();postMessage({fpi:e.toString()});const{a:n,b:o,c:s,vars:a}=e.toMatrix(),c={a:n.map(t=>t.map(i)),b:o.map(i),c:s.map(i),vars:a};postMessage(c)}catch(e){e instanceof r.SyntaxError?postMessage({annotations:[{column:e.location.start.column-1,row:e.location.start.line-1,text:e.message,type:"error"}]}):postMessage({error:e.message}),console.error(e)}})},t0x4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("zCoP"),i=n("NoKw"),o=n("K6c1"),s=n("YBbj");e.Subtraction=class extends r.Expression{constructor(t){super(),this.terms=t}canonify(){const[t,...e]=this.terms;for(let n=0;n<e.length;n++)e[n]=new i.Multiplication([e[n],o.NEG]).canonify();return new s.Addition([t,...e]).canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},wMuk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("zCoP"),i=n("NoKw");e.Division=class extends r.Expression{constructor(t){super(),this.terms=t}canonify(){const[t,...e]=this.terms;for(let n=0;n<e.length;n++)e[n]=e[n].invert();return new i.Multiplication([t,...e]).canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},zCoP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Expression=class{invert(){throw new Error("Tried to invert something that we can't yet invert")}}},zwtD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("LhP/"),i=n("K6c1"),o=n("V9eS"),s=n("MUAA"),a=n("82Dv");e.Smaller=class extends r.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof i.Fraction?t=new o.CanonicalAddition(t,[]):t instanceof s.Variable&&(t=new o.CanonicalAddition(i.ZERO,[t]));let e=this.right.canonify();return e instanceof i.Fraction?e=new o.CanonicalAddition(e,[]):e instanceof s.Variable&&(e=new o.CanonicalAddition(i.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=i.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(i.NEG))),e.terms=[],new a.CanonicalSmaller(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}}});